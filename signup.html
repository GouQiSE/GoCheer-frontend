<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>GoCheer: Sign up</title>

    <!--设置网页图标-->
    <link rel="shortcut icon" href="images/logo.png" type=”image/x-icon”/>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/signup.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <![endif]-->
</head>
<body>

<div class="jumbotron">
    <div class="container">
        <form class="form-horizontal" role="form">
            <div class="form-group">
                <label for="inputUsername3" class="col-md-4 control-label">Username</label>
                <div class="col-md-4" style="float: left">
                    <input type="username" class="form-control" id="inputUsername3" placeholder="Username" onblur="checkUsername()">
                    <span id="warning3"></span>
                </div>
            </div>
            <div class="form-group">
                <label for="inputPassword3" class="col-md-4 control-label">Password</label>
                <div class="col-md-4">
                    <input type="password" class="form-control" id="inputPassword3" placeholder="Password">
                </div>
            </div>
            <div class="form-group">
                <label for="inputConfirm3" class="col-md-4 control-label">Confirm Password</label>
                <div class="col-md-4">
                    <input type="password" class="form-control" id="inputConfirm3" placeholder="Confirm Password"
                           onblur="check()">
                    <span id="warning"></span>
                </div>
            </div>


            <div class="form-group">
                <label for="inputConfirm3" class="col-md-4 control-label">Gender</label>
                <div class="col-md-4">
                    <label class="radio-inline">
                        <input type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1"> Male
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2"> Female
                    </label>
                </div>
            </div>
            <div class="form-group">
                <label for="inputNickname3" class="col-md-4 control-label">Nickname</label>
                <div class="col-md-4">
                    <input type="name" class="form-control" id="inputNickname3" placeholder="Nickname" onblur="checkNickname()">
                    <span id="warning2"></span>
                </div>
            </div>
            <div class="form-group">
                <label for="inputEmail3" class="col-md-4 control-label">Email</label>
                <div class="col-md-4">
                    <input type="email" class="form-control" id="inputEmail3" placeholder="Email">
                </div>
            </div>

            <div style="text-align: center">
                <span><button type="submit" class="btn btn-default">Sign up</button></span>
            </div>
        </form>
    </div>
</div>


<script>
    function check() {
        if (document.getElementById("inputPassword3").value !=
                document.getElementById("inputConfirm3").value) {
            document.getElementById("warning").innerHTML = "两次密码的输入不一致";
        } else {
            document.getElementById("warning").innerHTML = "   ";
        }
    }


    function checkNickname()
    {
        //只简单的判断昵称的长度
        var id = document.getElementById("inputNickname3");
        var nickname=id.value;
        if(nickname.replace(/[^\x00-\xff]/g,"**").length > 15 ) {
            document.getElementById("warning2").innerHTML = "输入的用户名过长";
        }
        else{
            document.getElementById("warning").innerHTML = "   ";
        }
    }

    function checkUsername() {
        var username = document.getElementById("inputUsername3").value;
//        if( username == "" || username == null ){
//            alert( "请先填写用户名！" );
//            return false;
//        }
        switch( isUsername( username ) ){
            case 0: break;
            case 1: {
                changeUsernamePrompt( "格式不正确，用户名不能以数字开头" );
                return false;
            }
            case 2: {
                changeUsernamePrompt( '字符长度有误，合法长度为6-20个字符" );
                return false;
            }
            case 3: {
                changeUsernamePrompt( "含有非法字符，用户名只能包含_,英文字母，数字" );
                return false;
            }
            case 4: {
                changeUsernamePrompt("格式不正确，用户名只能包含_,英文字母，数字" );
                return false;
            }
        }
        document.getElementById("warning").innerHTML = "   ";
    }
    function changeUsernamePrompt(cnt){
        document.getElementById( "warning3" ).innerHTML = cnt;
        document.getElementById( "warning3" ).style.display = "";
    }
    function isUsername( username ){
        if( /^\d.*$/.test( username ) ){
            return 1;
        }
        if(! /^.{6,20}$/.test( username ) ){
            return 2;
        }
        if(! /^[\w_]*$/.test( username ) ){
            return 3;
        }
        if(! /^([a-z]|[A-Z])[\w_]{5,19}$/.test( username ) ){
            return 4;
        }
        return 0;
    }


</script>
</body>
</html>